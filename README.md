# Telegram Product Bot (Brand → Product)

این نسخه بر اساس ۴ برند **Secrets / Karseell / MBQ / STQ** دکمه‌های دسته‌بندی دارد.
- `/start` → انتخاب برند
- انتخاب برند → لیست محصولات همان برند
- انتخاب محصول → ارسال **عکس** + کپشن

## راه‌اندازی سریع
1) @BotFather → `/newbot` → توکن را بگیر.
2) عکس هر محصول را در مسیر نشان‌داده‌شده در `products.json` قرار بده (پوشه‌ها ساخته شده‌اند).
   - می‌توانی به‌جای مسیر فایل، `image` را URL هم بگذاری.
3) متغیر محیطی را ست کن:
   - `TELEGRAM_BOT_TOKEN=توکن_تو`
4) نصب و اجرا:
```bash
python -m venv .venv
source .venv/bin/activate  # ویندوز: .venv\Scripts\activate
pip install -r requirements.txt
python bot.py
```

## به‌روزرسانی محصولات
- `products.json` را ادیت کن و سپس در بات `/refresh` بزن تا بدون ری‌استارت لود شود.

## نکات
- اگر عکس محصولی موجود نبود، بات پیام خطا می‌دهد و مسیر فایل را اعلام می‌کند.
- برای تایپ مستقیم نام محصول هم عکس ارسال می‌شود (بدون استفاده از دکمه‌ها).

> ⚠️ نکته امنیتی: در این بسته، توکن به‌صورت مستقیم داخل `bot.py` قرار داده شده است. بعد از تست، **توکن را Rotate** کنید و از متغیر محیطی استفاده کنید.


## ساختار جدید پوشه‌ها (هر محصول یک فولدر)
برای هر محصول، در مسیر زیر عکس را قرار بدهید (فرمت PNG و نام فایل ثابت است):
```
products/<Brand>/<ProductSlug>/Untitled design.png
```
- مثال: `products/MBQ/بوتاکس_استراینر/Untitled design.png`
- دقت کنید فاصله و حروف فارسی در نام فولدر مشکلی ندارد؛ در فایل‌ها از اسلاگ (با `_`) استفاده شده است.
